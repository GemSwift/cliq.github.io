import{s as at,n as et}from"../chunks/scheduler.BvLojk_z.js";import{S as rt,i as ot,e as P,b as M,s as J,m as O,c as W,n as ut,f as E,h as K,o as j,d as q,g as a,p as o,j as _,k as z,q as ft,l as Q,r as it}from"../chunks/index.BmY5NFdg.js";function lt(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function st(l,f,c){const e=l.slice();e[10]=f[c],e[20]=c;const i=Math.cos(e[4]*e[20]);e[11]=i;const u=Math.sin(e[4]*e[20]);e[12]=u;const d=Math.cos(e[4]*(e[20]+1));e[13]=d;const g=Math.sin(e[4]*(e[20]+1));e[14]=g;const m=Math.cos(e[4]*(e[20]+.5))*e[6]+s;e[15]=m;const S=Math.sin(e[4]*(e[20]+.5))*e[6]+s;e[16]=S;const b=90+360/C*(e[20]+.5)|0;e[17]=b;const w=[`M ${e[11]*s+s} ${e[12]*s+s}`,`A ${s} ${s} 0 0 1 ${e[13]*s+s} ${e[14]*s+s}`,`L ${s} ${s}`].join(" ");return e[18]=w,e}function nt(l){let f,c,e,i,u,d=l[5][l[20]%l[5].length]+"",g,m,S,b,w;return{c(){f=O("path"),e=M(`}
			`),i=O("g"),u=O("text"),g=M(d),b=M(`}
			`),this.h()},l(r){f=j(r,"path",{d:!0,fill:!0}),q(f).forEach(a),e=E(r,`}
			`),i=j(r,"g",{transform:!0});var p=q(i);u=j(p,"text",{"font-size":!0,x:!0,y:!0,"text-anchor":!0});var T=q(u);g=E(T,d),T.forEach(a),b=E(p,`}
			`),p.forEach(a),this.h()},h(){o(f,"d",c=l[18]),o(f,"fill",l[5][l[20]%l[5].length]),o(u,"font-size",24),o(u,"x",m=l[15]),o(u,"y",S=l[16]),o(u,"text-anchor","middle"),o(i,"transform",w="translate("+l[15]+" "+l[16]+") rotate("+l[17]+") translate("+-l[15]+" "+-l[16]+") ")},m(r,p){_(r,f,p),_(r,e,p),_(r,i,p),z(i,u),z(u,g),z(i,b)},p(r,p){p&16&&c!==(c=r[18])&&o(f,"d",c),p&16&&m!==(m=r[15])&&o(u,"x",m),p&16&&S!==(S=r[16])&&o(u,"y",S),p&16&&w!==(w="translate("+r[15]+" "+r[16]+") rotate("+r[17]+") translate("+-r[15]+" "+-r[16]+") ")&&o(i,"transform",w)},d(r){r&&(a(f),a(e),a(i))}}}function ht(l){let f,c="Spin",e,i=(l[0]|0)+"",u,d,g=(l[1]*100|0)+"",m,S,b=l[5][l[3]%l[5].length]+"",w,r,p,T,L,N,A,B,k,U,F,G,H,R,x=Z+$+"",V,X,tt,I=lt(Array(C)),v=[];for(let t=0;t<I.length;t+=1)v[t]=nt(st(l,I,t));return{c(){f=P("button"),f.textContent=c,e=P("br"),u=M(i),d=J(),m=M(g),S=J(),w=M(b),r=M(" ("),p=M(l[3]),T=M(")"),L=P("br"),N=J(),A=O("svg"),B=O("g"),k=O("circle");for(let t=0;t<v.length;t+=1)v[t].c();F=J(),G=P("br"),H=M(`
Subscribers can see the result at `),R=P("a"),V=M(x),this.h()},l(t){f=W(t,"BUTTON",{"data-svelte-h":!0}),ut(f)!=="svelte-1vyca30"&&(f.textContent=c),e=W(t,"BR",{}),u=E(t,i),d=K(t),m=E(t,g),S=K(t),w=E(t,b),r=E(t," ("),p=E(t,l[3]),T=E(t,")"),L=W(t,"BR",{}),N=K(t),A=j(t,"svg",{viewBox:!0,width:!0,height:!0});var n=q(A);B=j(n,"g",{transform:!0});var h=q(B);k=j(h,"circle",{r:!0,cx:!0,cy:!0,fill:!0,"stroke-width":!0,stroke:!0}),q(k).forEach(a);for(let Y=0;Y<v.length;Y+=1)v[Y].l(h);h.forEach(a),n.forEach(a),F=K(t),G=W(t,"BR",{}),H=E(t,`
Subscribers can see the result at `),R=W(t,"A",{href:!0,target:!0});var D=q(R);V=E(D,x),D.forEach(a),this.h()},h(){o(k,"r",s),o(k,"cx",s),o(k,"cy",s),o(k,"fill","lightgray"),o(k,"stroke-width",y),o(k,"stroke","red"),o(B,"transform",U="translate("+(s+y)+" "+(s+y)+") rotate("+l[0]+") translate("+-s+" "+-s+") "),o(A,"viewBox","0 0 "+(s*2+y*2)+" "+(s*2+y*2)),o(A,"width",s+y*2),o(A,"height",s+y*2),o(R,"href",Z+$),o(R,"target","_blank")},m(t,n){_(t,f,n),_(t,e,n),_(t,u,n),_(t,d,n),_(t,m,n),_(t,S,n),_(t,w,n),_(t,r,n),_(t,p,n),_(t,T,n),_(t,L,n),_(t,N,n),_(t,A,n),z(A,B),z(B,k);for(let h=0;h<v.length;h+=1)v[h]&&v[h].m(B,null);_(t,F,n),_(t,G,n),_(t,H,n),_(t,R,n),z(R,V),X||(tt=ft(f,"click",l[8]),X=!0)},p(t,[n]){if(n&1&&i!==(i=(t[0]|0)+"")&&Q(u,i),n&2&&g!==(g=(t[1]*100|0)+"")&&Q(m,g),n&8&&b!==(b=t[5][t[3]%t[5].length]+"")&&Q(w,b),n&8&&Q(p,t[3]),n&112){I=lt(Array(C));let h;for(h=0;h<I.length;h+=1){const D=st(t,I,h);v[h]?v[h].p(D,n):(v[h]=nt(D),v[h].c(),v[h].m(B,null))}for(;h<v.length;h+=1)v[h].d(1);v.length=I.length}n&1&&U!==(U="translate("+(s+y)+" "+(s+y)+") rotate("+t[0]+") translate("+-s+" "+-s+") ")&&o(B,"transform",U)},i:et,o:et,d(t){t&&(a(f),a(e),a(u),a(d),a(m),a(S),a(w),a(r),a(p),a(T),a(L),a(N),a(A),a(F),a(G),a(H),a(R)),it(v,t),X=!1,tt()}}}let s=200,C=9,y=17;const Z="https://ntfy.sh/",$="spinningWheelTopic";function ct(l,f,c){let e,i,u,d=["purple","tomato","bisque","yellow","green","skyblue","plum","aqua","white"],g=0,m=0,S=s*4/5,b=!1;setInterval(()=>{m>.06?(c(0,g+=m),c(1,m*=.99),g>360&&c(0,g-=360)):b&&(w(),c(2,b=!1))},10);function w(){fetch(Z+$,{method:"POST",body:"The winner is "+d[u%d.length]+" ðŸ˜€ at "+new Date().toISOString()})}const r=()=>{c(1,m=15+5*Math.random()),c(2,b=!0)};return l.$$.update=()=>{l.$$.dirty&129&&c(3,u=((270-g)/i+C|0)%C)},c(4,e=3.142*2/C),c(7,i=360/C|0),[g,m,b,u,e,d,S,i,r]}class pt extends rt{constructor(f){super(),ot(this,f,ct,ht,at,{})}}export{pt as component};
